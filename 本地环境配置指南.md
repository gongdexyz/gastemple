# Gas Temple APK æœ¬åœ°æ„å»ºç¯å¢ƒé…ç½®æŒ‡å—

## ğŸ“‹ å½“å‰çŠ¶æ€

âœ… å·²å®‰è£… Javaï¼Œä½†ç‰ˆæœ¬è¿‡æ—§ï¼ˆJava 8ï¼‰
â³ éœ€è¦å‡çº§åˆ° Java 11+ ï¼ˆæ¨è Java 17ï¼‰

## ğŸ”§ ç¯å¢ƒé…ç½®æ­¥éª¤

### æ­¥éª¤ 1: å®‰è£… Java JDK 17

#### æ–¹æ³• A: ä½¿ç”¨ Adoptiumï¼ˆæ¨èï¼Œæœ€ç®€å•ï¼‰

1. **ä¸‹è½½ Java JDK 17**
   - è®¿é—®ï¼šhttps://adoptium.net/temurin/releases/
   - é€‰æ‹©ï¼š
     - Version: `17 - LTS`
     - Operating System: `Windows`
     - Architecture: `x64`
     - Package Type: `JDK`
   - ç‚¹å‡» `.msi` æ–‡ä»¶ä¸‹è½½

2. **å®‰è£… JDK**
   - åŒå‡»ä¸‹è½½çš„ `.msi` æ–‡ä»¶
   - æŒ‰ç…§å®‰è£…å‘å¯¼æ“ä½œ
   - âœ… **é‡è¦**: å‹¾é€‰ "Set JAVA_HOME variable"
   - âœ… **é‡è¦**: å‹¾é€‰ "Add to PATH"
   - å®‰è£…è·¯å¾„å»ºè®®ä½¿ç”¨é»˜è®¤ï¼š`C:\Program Files\Eclipse Adoptium\jdk-17.x.x-hotspot\`

3. **éªŒè¯å®‰è£…**
   ```powershell
   # å…³é—­å½“å‰ç»ˆç«¯ï¼Œæ‰“å¼€æ–°çš„ PowerShell çª—å£
   java -version
   ```
   
   åº”è¯¥æ˜¾ç¤ºç±»ä¼¼ï¼š
   ```
   openjdk version "17.0.x" 2024-xx-xx
   OpenJDK Runtime Environment Temurin-17.0.x+x (build 17.0.x+x)
   OpenJDK 64-Bit Server VM Temurin-17.0.x+x (build 17.0.x+x, mixed mode, sharing)
   ```

#### æ–¹æ³• B: ä½¿ç”¨ Chocolateyï¼ˆå‘½ä»¤è¡Œæ–¹å¼ï¼‰

å¦‚æœä½ å®‰è£…äº† Chocolatey åŒ…ç®¡ç†å™¨ï¼š

```powershell
# ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œ PowerShell
choco install temurin17
```

### æ­¥éª¤ 2: é…ç½®ç¯å¢ƒå˜é‡ï¼ˆå¦‚æœå®‰è£…æ—¶æœªè‡ªåŠ¨é…ç½®ï¼‰

#### æ£€æŸ¥ç¯å¢ƒå˜é‡

```powershell
# æ£€æŸ¥ JAVA_HOME
echo $env:JAVA_HOME

# æ£€æŸ¥ PATH ä¸­æ˜¯å¦åŒ…å« Java
echo $env:PATH
```

#### æ‰‹åŠ¨é…ç½®ï¼ˆå¦‚æœéœ€è¦ï¼‰

**æ–¹æ³• 1: ä½¿ç”¨ PowerShellï¼ˆä¸´æ—¶ï¼‰**

```powershell
# è®¾ç½® JAVA_HOMEï¼ˆæœ¬æ¬¡ä¼šè¯æœ‰æ•ˆï¼‰
$env:JAVA_HOME = "C:\Program Files\Eclipse Adoptium\jdk-17.0.x-hotspot"
$env:PATH = "$env:JAVA_HOME\bin;$env:PATH"
```

**æ–¹æ³• 2: ä½¿ç”¨ç³»ç»Ÿè®¾ç½®ï¼ˆæ°¸ä¹…ï¼‰**

1. æŒ‰ `Win + X`ï¼Œé€‰æ‹©"ç³»ç»Ÿ"
2. ç‚¹å‡»"é«˜çº§ç³»ç»Ÿè®¾ç½®"
3. ç‚¹å‡»"ç¯å¢ƒå˜é‡"
4. åœ¨"ç³»ç»Ÿå˜é‡"ä¸­ï¼š
   - æ–°å»ºå˜é‡ï¼š
     - å˜é‡åï¼š`JAVA_HOME`
     - å˜é‡å€¼ï¼š`C:\Program Files\Eclipse Adoptium\jdk-17.0.x-hotspot`
   - ç¼–è¾‘ `Path` å˜é‡ï¼š
     - æ·»åŠ ï¼š`%JAVA_HOME%\bin`
5. ç‚¹å‡»"ç¡®å®š"ä¿å­˜
6. **é‡å¯ç»ˆç«¯**

**æ–¹æ³• 3: ä½¿ç”¨ PowerShellï¼ˆæ°¸ä¹…ï¼Œéœ€ç®¡ç†å‘˜æƒé™ï¼‰**

```powershell
# ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œ PowerShell
[System.Environment]::SetEnvironmentVariable("JAVA_HOME", "C:\Program Files\Eclipse Adoptium\jdk-17.0.x-hotspot", "Machine")

# è·å–å½“å‰ PATH
$path = [System.Environment]::GetEnvironmentVariable("Path", "Machine")
# æ·»åŠ  Java åˆ° PATH
[System.Environment]::SetEnvironmentVariable("Path", "$path;%JAVA_HOME%\bin", "Machine")
```

### æ­¥éª¤ 3: éªŒè¯ç¯å¢ƒé…ç½®

```powershell
# å…³é—­æ‰€æœ‰ç»ˆç«¯çª—å£ï¼Œæ‰“å¼€æ–°çš„ PowerShell

# 1. æ£€æŸ¥ Java ç‰ˆæœ¬
java -version

# 2. æ£€æŸ¥ javacï¼ˆJava ç¼–è¯‘å™¨ï¼‰
javac -version

# 3. æ£€æŸ¥ JAVA_HOME
echo $env:JAVA_HOME
```

**æœŸæœ›è¾“å‡ºï¼š**
- `java -version` æ˜¾ç¤º 17.0.x
- `javac -version` æ˜¾ç¤º 17.0.x
- `JAVA_HOME` æŒ‡å‘æ­£ç¡®çš„å®‰è£…è·¯å¾„

### æ­¥éª¤ 4: æ„å»º APK

ç¯å¢ƒé…ç½®å®Œæˆåï¼Œè¿è¡Œæ„å»ºå‘½ä»¤ï¼š

```bash
# 1. ç¡®ä¿ Web åº”ç”¨å·²æ„å»º
npm run build

# 2. è¿è¡Œ Bubblewrap æ„å»º
npx @bubblewrap/cli build --skipPwaValidation
```

**äº¤äº’å¼è¾“å…¥æç¤ºï¼š**

```
? Would you like to regenerate your project? (Y/n)
è¾“å…¥: n

? versionName for the new App version:
è¾“å…¥: 1.0.0

? versionCode for the new App version:
è¾“å…¥: 1

? Password for the Key Store:
è¾“å…¥: android

? Password for the Key:
è¾“å…¥: android
```

### æ­¥éª¤ 5: æŸ¥æ‰¾ç”Ÿæˆçš„ APK

æ„å»ºæˆåŠŸåï¼ŒAPK æ–‡ä»¶ä½ç½®ï¼š

```
app-release-signed.apk
æˆ–
android-build/app/build/outputs/apk/release/app-release-signed.apk
```

## ğŸš¨ å¸¸è§é—®é¢˜

### Q1: å®‰è£… Java åä»ç„¶æ˜¾ç¤ºæ—§ç‰ˆæœ¬

**è§£å†³æ–¹æ¡ˆï¼š**
1. å®Œå…¨å…³é—­æ‰€æœ‰ç»ˆç«¯çª—å£
2. æ‰“å¼€æ–°çš„ PowerShell çª—å£
3. é‡æ–°æ£€æŸ¥ `java -version`
4. å¦‚æœä»ç„¶æ˜¯æ—§ç‰ˆæœ¬ï¼Œæ£€æŸ¥ PATH é¡ºåºï¼Œç¡®ä¿æ–° Java è·¯å¾„åœ¨å‰é¢

### Q2: æ‰¾ä¸åˆ° JAVA_HOME

**è§£å†³æ–¹æ¡ˆï¼š**
```powershell
# æ‰‹åŠ¨è®¾ç½®ï¼ˆä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œï¼‰
[System.Environment]::SetEnvironmentVariable("JAVA_HOME", "C:\Program Files\Eclipse Adoptium\jdk-17.0.x-hotspot", "Machine")
```

### Q3: Gradle æ„å»ºå¤±è´¥

**å¯èƒ½åŸå› ï¼š**
- Java ç‰ˆæœ¬ä¸åŒ¹é…
- ç½‘ç»œé—®é¢˜ï¼ˆGradle éœ€è¦ä¸‹è½½ä¾èµ–ï¼‰
- ç£ç›˜ç©ºé—´ä¸è¶³

**è§£å†³æ–¹æ¡ˆï¼š**
```bash
# æ¸…ç† Gradle ç¼“å­˜
cd android-build
.\gradlew clean

# é‡æ–°æ„å»º
cd ..
npx @bubblewrap/cli build --skipPwaValidation
```

### Q4: æƒé™é”™è¯¯

**è§£å†³æ–¹æ¡ˆï¼š**
ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œ PowerShellï¼š
1. å³é”®ç‚¹å‡» PowerShell
2. é€‰æ‹©"ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œ"
3. é‡æ–°è¿è¡Œæ„å»ºå‘½ä»¤

## ğŸ“¦ å¿«é€Ÿæ„å»ºè„šæœ¬

åˆ›å»º `build-apk-complete.bat`ï¼š

```batch
@echo off
echo ========================================
echo Gas Temple APK å®Œæ•´æ„å»ºæµç¨‹
echo ========================================
echo.

echo [1/4] æ£€æŸ¥ Java ç‰ˆæœ¬...
java -version
if errorlevel 1 (
    echo âŒ Java æœªå®‰è£…æˆ–æœªé…ç½®
    echo è¯·å…ˆå®‰è£… Java JDK 17
    pause
    exit /b 1
)

echo.
echo [2/4] æ„å»º Web åº”ç”¨...
call npm run build
if errorlevel 1 (
    echo âŒ Web æ„å»ºå¤±è´¥
    pause
    exit /b 1
)

echo.
echo [3/4] ç”Ÿæˆ APK...
echo æç¤º: 
echo - æ˜¯å¦é‡æ–°ç”Ÿæˆé¡¹ç›®? è¾“å…¥ n
echo - versionName: 1.0.0
echo - versionCode: 1
echo - Key Store Password: android
echo - Key Password: android
echo.
call npx @bubblewrap/cli build --skipPwaValidation

echo.
echo [4/4] æŸ¥æ‰¾ APK æ–‡ä»¶...
if exist "app-release-signed.apk" (
    echo âœ… APK å·²ç”Ÿæˆ: app-release-signed.apk
) else if exist "android-build\app\build\outputs\apk\release\app-release-signed.apk" (
    copy "android-build\app\build\outputs\apk\release\app-release-signed.apk" "gas-temple-release.apk"
    echo âœ… APK å·²å¤åˆ¶åˆ°: gas-temple-release.apk
) else (
    echo âš ï¸ æœªæ‰¾åˆ° APK æ–‡ä»¶
)

echo.
echo ========================================
echo æ„å»ºå®Œæˆï¼
echo ========================================
pause
```

## ğŸ¯ ä¸‹ä¸€æ­¥

1. **å®‰è£… Java 17**
   - ä¸‹è½½ï¼šhttps://adoptium.net/temurin/releases/
   - å®‰è£…æ—¶å‹¾é€‰"Set JAVA_HOME"å’Œ"Add to PATH"

2. **éªŒè¯å®‰è£…**
   ```bash
   java -version
   ```

3. **æ„å»º APK**
   ```bash
   npx @bubblewrap/cli build --skipPwaValidation
   ```

4. **æäº¤åˆ° Solana dApp Store**
   - ä½¿ç”¨ç”Ÿæˆçš„ APK æ–‡ä»¶
   - å‚è€ƒï¼š`Solanaæäº¤è¡¨å•å¡«å†™æŒ‡å—.md`

---

**é¢„è®¡é…ç½®æ—¶é—´ï¼š** 10-15 åˆ†é’Ÿ
**æ„å»ºæ—¶é—´ï¼š** 5-10 åˆ†é’Ÿï¼ˆé¦–æ¬¡æ„å»ºä¼šä¸‹è½½ä¾èµ–ï¼Œè¾ƒæ…¢ï¼‰
