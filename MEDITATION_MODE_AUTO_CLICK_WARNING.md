# 冥想模式自动代敲确认功能

## 问题背景
用户在功德模式开启代敲后，如果页面刷新或切换，可能会因为 `gameMode` 状态丢失而回到冥想模式，导致：
1. 用户以为在功德模式挂机，实际在冥想模式挂机
2. 收益大幅降低（冥想模式收益远低于功德模式）
3. 用户可能误以为被骗或系统出错

## 解决方案

### 1. 游戏模式持久化
- 将 `gameMode` 保存到 `localStorage`
- 页面加载时自动恢复上次的游戏模式
- 确保刷新页面后模式不会丢失

### 2. 冥想模式确认弹窗
当用户在**冥想模式**下点击自动代敲选项时，弹出确认弹窗：

#### 弹窗内容：
- 🧘 标题：冥想模式自动代敲
- ⚠️ 提醒：您当前处于冥想模式（免费游玩，收益较低）
- 💡 建议：切换到功德模式可获得更高收益（需消耗 $GONGDE 代币）
- ✅ 确认：确认在冥想模式下开启自动代敲？

#### 用户选择：
- **✓ 确认**：继续在冥想模式下开启代敲
- **✕ 取消**：取消操作，可以先切换到功德模式

### 3. 功德模式无需确认
- 功德模式下点击代敲选项直接执行
- 因为功德模式是付费模式，用户明确知道自己在做什么

## 用户体验改进
1. **防止误操作**：明确告知用户当前模式和收益差异
2. **引导切换**：建议用户切换到功德模式获得更高收益
3. **透明化**：让用户清楚知道自己在哪个模式下挂机
4. **状态持久化**：刷新页面后模式不会丢失

## 技术实现
- 文件：`src/components/WoodenFish.tsx`
- 新增状态：
  - `showMeditationWarning`: 是否显示冥想模式确认弹窗
  - `pendingOption`: 待确认的代敲选项
- 新增函数：
  - `confirmMeditationAutoClick()`: 确认冥想模式代敲
  - `cancelMeditationAutoClick()`: 取消冥想模式代敲
  - `executeAutoClickPayment()`: 执行实际的支付逻辑
- 持久化：`localStorage.setItem('gameMode', gameMode)`

## 测试建议
1. 在冥想模式下点击代敲选项
2. 验证确认弹窗是否正确显示
3. 点击"取消"，验证是否取消操作
4. 点击"确认"，验证是否正常开启代敲
5. 刷新页面，验证是否仍在冥想模式
6. 切换到功德模式，点击代敲选项
7. 验证是否直接执行，无需确认
8. 刷新页面，验证是否仍在功德模式
